var b = document.getElementById("mini"), c = document.getElementById("output"), e = document.getElementById("download"), f = document.getElementById("input"); e.addEventListener("click", function (a) { a.preventDefault(); c.select(); c.setSelectionRange(0, 999999999); a = document.createElement("a"); a.setAttribute("href", "data:text/plain;charset=utf-8," + encodeURIComponent(c.value)); a.setAttribute("download", "main.min.js"); document.body.appendChild(a); a.click(); document.body.removeChild(a) });
0 == c.value.length || 0 == f.value.length ? (console.log("dada"), document.getElementById("download").disabled = !0) : document.getElementById("download").disabled = !1; b.addEventListener("click", function (a) { a.preventDefault(); a = JSON.stringify({ code: f.value }); fetch("http://127.0.0.1:3000/v1/result", { method: "POST", headers: { "Content-Type": "application/json" }, body: a }).then(function (d) { return d.json() }).then(function (d) { return c.innerHTML = d.code }); 1 <= f.value.length && (document.getElementById("download").disabled = !1) });
document.getElementById("copy").addEventListener("click", function (a) { a.preventDefault(); c.select(); c.setSelectionRange(0, 999999999); navigator.clipboard.writeText(c.value); alert("Copied") });
